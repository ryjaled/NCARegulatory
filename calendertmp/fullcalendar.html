<!DOCTYPE html>
<html>
<head>
<link href='../assets/css/bootstrap.min.css' rel='stylesheet' />
<link href='../assets/css/material-kit.css' rel='stylesheet' />
<link href='fullcalendar.css' rel='stylesheet' />
<link href='fullcalendar.print.css' rel='stylesheet' media='print' />
<link href='../assets/css/fileinput.min.css' rel='stylesheet' />
<!--     Fonts and icons     -->
<link href="http://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons"/>

<script src='../jquery/jquery-1.10.2.js'></script>
<script src='../jquery/jquery-ui.custom.min.js'></script>
<script src="../assets/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../assets/js/material.min.js" type="text/javascript"></script>
<script src="../assets/js/fileinput.js" type="text/javascript"></script>
<script src="../assets/js/fileinput.min.js" type="text/javascript"></script>

<script src='fullcalendar.js'></script>
<style>

	body {
		margin-top: 40px;
		text-align: center;
		font-size: 14px;
		font-family: "Helvetica Nueue",Arial,Verdana,sans-serif;
		background-color: #DDDDDD;
		}

	#wrap {
		width: 1100px;
		margin: 0 auto;
		}

	#external-events {
		float: left;
		width: 150px;
		padding: 0 10px;
		text-align: left;
		}

	#external-events h4 {
		font-size: 16px;
		margin-top: 0;
		padding-top: 1em;
		}

	.external-event { /* try to mimick the look of a real event */
		margin: 10px 0;
		padding: 2px 4px;
		background: #3366CC;
		color: #fff;
		font-size: .85em;
		cursor: pointer;
		}

	#external-events p {
		margin: 1.5em 0;
		font-size: 11px;
		color: #666;
		}

	#external-events p input {
		margin: 0;
		vertical-align: middle;
		}

	#calendar {
/* 		float: right; */
        margin: 0 auto;
		width: 900px;
		background-color: #FFFFFF;
		  border-radius: 6px;
        box-shadow: 0 1px 2px #C3C3C3;
		}

</style>
</head>
<body>
	<div class="wrap" data-background-color="blue">
		<div class="card card-login card-hidden"  >
			<!-- <div class="full-page login-page" filter-color="black" data-image="assets/img/login.jpeg"> -->
			<!-- <div class="full-page login-page" > -->

		<div id='calendar'></div>

		<!-- <div style='clear:both'></div> -->
	</div>

	<!-- Start Modal -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						<i class="material-icons">clear</i>
					</button>
					<h4 class="modal-title">Add Event</h4>
				</div>
				<div class="modal-body">
					<form id="RegisterValidationDoc" action="" method="">
						<div class="card-content" style="padding: 2% 15%;">

							<div class="form-group">
								<input id="dateselected" type="text" class="form-control datetimepicker" required="true" value="" />
							</div>

							<div class="col-sm">
								<div class="form-group label-floating">
									<label class="control-label">
										Event Title
										<small>(required)</small>
									</label>
									<input class="form-control" name="title" type="text" required="true" />
								</div>
								<br/>


							</div>

							<div class="col-sm">
								<div class="form-group label-floating">
									<label class="control-label">
										Audience
										<small>(required)</small>
									</label>
									<input class="form-control" name="location" type="text" required="true" />
								</div>

								<br/>

								<div class="form-group label-floating">
									<label class="control-label">
										Number In Attendance
										<small></small>
									</label>
									<input class="form-control" name="location" type="text" />
								</div>
								<br/>
							</div>





							<select class="selectpicker" data-style="btn btn-primary btn-round" title="Select Region" data-size="11">
								<option disabled selected>Select the region the event was organized</option>
								<option value="1">Ashanti Region</option>
								<option value="2">Brong-Ahafo Region</option>
								<option value="3">Central Region</option>
								<option value="4">Eastern Region Region</option>
								<option value="5">Greater Accra Region</option>
								<option value="2">Northern Region</option>
								<option value="6">Upper East Region</option>
								<option value="7">Upper West Region</option>
								<option value="8">Volta Region</option>
								<option value="9">Western Region</option>
							</select>
							<br/>
							<br/>
							<br/>

							<select class="selectpicker" data-style="btn btn-primary btn-round" title="Select Town" data-size="5">
								<option disabled selected>Select the town the event was organized</option>
								<option value="1">Town 1</option>
								<option value="2">Town 1</option>
								<option value="3">Town 1</option>
								<option value="4">Town 1</option>
								<option value="5">Town 1</option>
								<option value="2">Town 1</option>
								<option value="6">Town 1</option>
								<option value="7">Town 1</option>
								<option value="8">Town 1</option>
								<option value="9">Town 1</option>
							</select>
							<br/>
							<br/>
							<br/>

							<div>
								<input id="input-id" type="file" name="files[]" class="file" multiple>
							</div>

							<br/>
							<br/>
							<br/>
							<p style="font-weight: 3em; font-weight: 400; color: #aaa" class="control-label">
								Challenges faced
								<small>(required)</small>
							</p>
							<textarea require="true" style="border-style: solid; border-with: 10px;" class="form-control label-floating" placeholder="Type event summary here"
							 rows="5"></textarea>

							<br/>
							<br/>
							<br/>
							<p style="font-weight: 3em; font-weight: 400; color: #aaa" class="control-label">
								Event Summary
								<small>(required)</small>
							</p>
							<textarea require="true" style="border-style: solid; border-with: 10px;" class="form-control label-floating" placeholder="Type event summary here"
							 rows="5"></textarea>



							<div class="category form-category">
								<small>(required)</small> - Required fields</div>

							<div class="form-footer text-right">
								<div class="checkbox pull-left">

								</div>
							</div>

						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default btn-simple" onclick="submitevent()">Done</button>
					<button type="button" class="btn btn-danger btn-simple" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	<!--  End Modal -->
</body>

<script>

	$(document).ready(function () {
		var date = new Date();
		var d = date.getDate();
		var m = date.getMonth();
		var y = date.getFullYear();

		/*  className colors

		className: default(transparent), important(red), chill(pink), success(green), info(blue)

		*/


		/* initialize the external events
		-----------------------------------------------------------------*/

		$('#external-events div.external-event').each(function () {
			var eventObject = {
				title: $.trim($(this).text()) // use the element's text as the event title
			};

			// store the Event Object in the DOM element so we can get to it later
			$(this).data('eventObject', eventObject);

			// make the event draggable using jQuery UI
			$(this).draggable({
				zIndex: 999,
				revert: true,      // will cause the event to go back to its
				revertDuration: 0  //  original position after the drag
			});

		});


		/* initialize the calendar
		-----------------------------------------------------------------*/

		var calendar = $('#calendar').fullCalendar({
			header: {
				left: 'title',
				center: 'agendaDay,agendaWeek,month',
				right: 'prev,next today'
			},
			editable: true,
			firstDay: 0, //  1(Monday) this can be changed to 0(Sunday) for the USA system
			selectable: true,
			defaultView: 'month',

			axisFormat: 'h:mm',
			columnFormat: {
				month: 'ddd',    // Mon
				week: 'ddd d', // Mon 7
				day: 'dddd M/d',  // Monday 9/7
				agendaDay: 'dddd d'
			},
			titleFormat: {
				month: 'MMMM yyyy', // September 2009
				week: "MMMM yyyy", // September 2009
				day: 'MMMM yyyy'                  // Tuesday, Sep 8, 2009
			},
			allDaySlot: false,
			selectHelper: true,
			select: function (start, end, allDay) {
				var dateselect = start;
				document.getElementById("dateselected").value = dateselect;
				$("#myModal").modal("show");
				//var title = prompt('Event Title:');
				if (title) {
					calendar.fullCalendar('renderEvent',
						{
							title: title,
							start: dateselect,
							end: end,
							allDay: allDay
						},
						true // make the event "stick"
					);
				}
				calendar.fullCalendar('unselect');
			},
			droppable: true, // this allows things to be dropped onto the calendar !!!
			drop: function (date, allDay) { // this function is called when something is dropped

				// retrieve the dropped element's stored Event Object
				var originalEventObject = $(this).data('eventObject');

				// we need to copy it, so that multiple events don't have a reference to the same object
				var copiedEventObject = $.extend({}, originalEventObject);

				// assign it the date that was reported
				copiedEventObject.start = date;
				copiedEventObject.allDay = allDay;

				// render the event on the calendar
				// the last `true` argument determines if the event "sticks" (http://arshaw.com/fullcalendar/docs/event_rendering/renderEvent/)
				$('#calendar').fullCalendar('renderEvent', copiedEventObject, true);

				// is the "remove after drop" checkbox checked?
				if ($('#drop-remove').is(':checked')) {
					// if so, remove the element from the "Draggable Events" list
					$(this).remove();
				}

			},
			events: {
				url: '../databasehandler.php?cmd=7',
				type: 'POST',
				dataType: 'json'
			},
			eventClick: function (calEvent, jsEvent, view) {

				alert('Event: ' + calEvent.title);
				alert('Coordinates: ' + jsEvent.pageX + ',' + jsEvent.pageY);
				alert('View: ' + view.name);

				// change the border color just for fun
				$(this).css('border-color', 'red');

			}
		});


	});

	function submitevent(){
		$("#myModal").modal("hide");
	}

	$("#input-id").fileinput({
			showUpload: false,
			showCaption: false,
			browseOnZoneClick: true,
			uploadUrl: "uploads.php",
			//uploadUrl: "server/index.php",
			uploadAsync: true
		});

		// var foldname = document.getElementById("neworgcompname").value;

		// 	setCookie("foldname", foldname, 1);

</script>
</html>
