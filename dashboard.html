<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png" />
    <link rel="icon" type="image/png" href="images/NCA.png" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>National Communications Authority Dashboard</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />
    <!-- Bootstrap core CSS     -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <!--  Material Dashboard CSS    -->
    <link href="assets/css/material-dashboard.css?v=1.2.1" rel="stylesheet" />
    <!--     Fonts and icons     -->
    <link href="assets/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body onload="welcomeToHomeLevel4()">
    <div class="wrapper">
        <div class="sidebar" data-active-color="blue" data-background-color="black" data-image="assets/img/register.jpeg">
            <!--
        Tip 1: You can change the color of active element of the sidebar using: data-active-color="purple | blue | green | orange | red | rose"
        Tip 2: you can also add an image using data-image tag
        Tip 3: you can change the color of the sidebar with data-background-color="white | black"
    -->
            <div class="logo">
                <center>
                    <a href="http://www.nca.org.gh" class="logo-normal">
                        <img src="images/NCA.png" style="height: 30%; width: 30%;">
                    </a>
                    <a href="#" class="simple-text" style="font-size: 120%">
                        N.C.A
                    </a>
                </center>
            </div>
            <div class="sidebar-wrapper">
                <div class="user">
                    <div class="photo">
                        <img src="assets/img/default-avatar.png" />
                    </div>
                    <div class="info">
                        <a data-toggle="collapse" href="#collapseExample" class="collapsed">
                            <p id="dashboardname"></p>
                        </a>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <ul class="nav">
                    <li class="active">
                        <a href="dashboard.html">
                            <i class="material-icons">dashboard</i>
                            <p> Dashboard </p>
                        </a>
                    </li>
                    <li>
                        <a href="dashboardusers.html">
                            <i class="material-icons">supervisor_account</i>
                            <p> Users </p>
                        </a>

                    </li>
                    <li>
                         <a href="dashboardevents.html">
                             <i class="material-icons">explore</i>
                             <p> Events </p>
                         </a>
                    </li>
                    <li>
                            <a href="dashboardcalendar.html">
                                <i class="material-icons">date_range</i>
                                <p> Calendar </p>
                            </a>
                       </li>

                       <li>
                               <a href="dashboardpassword.html">
                                   <i class="material-icons">lock_open</i>
                                   <p> Change My Password </p>
                               </a>
                          </li>

                       <li>
                            <a href="index.html">
                                <i class="material-icons">power_settings_new</i>
                                <p> Sign Out </p>
                            </a>
                       </li>


                </ul>
            </div>
        </div>
        <div class="main-panel" style="background-color:rgb(34,88, 115)">
            <nav class="navbar navbar-transparent navbar-absolute">
                <div class="container-fluid">
                    <div class="navbar-minimize">
                        <button id="minimizeSidebar" class="btn btn-round btn-white btn-fill btn-just-icon">
                            <i class="material-icons visible-on-sidebar-regular">more_vert</i>
                            <i class="material-icons visible-on-sidebar-mini">view_list</i>
                        </button>
                    </div>
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="#" style="color: white;"> National Communications Authority Outreach Dashboard Panel </a>
                    </div>
                </div>
            </nav>
            <div class="content">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-5">
                            <div class="card">
                                <div class="card-header card-header-icon" data-background-color="grey">
                                    <i class="material-icons">search</i>
                                </div>
                                <div class="card-content">
                                    <h4 class="card-title">Search Dates</h4>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label style="font-weight: 900; color: #aaa" class="control-label">
                                                    Start date
                                                    <small>(required)</small>
                                                </label>
                                                <input id="addnewdateselected" type="text" class="form-control datetimepicker" required="true" onkeydown="return false;"
                                                />
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label style="font-weight: 900; color: #aaa" class="control-label">
                                                    End date
                                                    <small>(required)</small>
                                                </label>
                                                <input id="addenddateselected" class="form-control datetimepickker" type="text" required="true" onkeydown="return false;"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                    <button id="dashsearchinfo" type="submit" class="btn btn-twitter col-sm-12" onclick="searchdash(); return false">Search</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-7">
                            <div class="card">
                                <div class="card-header card-header-icon" data-background-color="green">
                                    <i class="material-icons">&#xE894;</i>
                                </div>
                                <div class="card-content">
                                    <h4 class="card-title">National Outreach Numbers by Region</h4>
                                    <div class="row">
                                        <div class="col-md-7">
                                            <div class="table-responsive table-sales">
                                                <table class="table">
                                                    <tbody id="dashboardtablebody">
                                                            <th>
                                                                <td>Region</td>
                                                                <td class="text-right">Events Hosted</td>
                                                                <td class="text-right">Percentage %</td>
                                                            </th>

                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="col-md-4 col-md-offset-1" style="margin-top: 7%; margin-left: 8%;">
                                            <div><img src="images/gh.svg" style="height: 40%; width:40%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>





                    <!-- <div class="row" style="marginTop: 5%;">
                        <div class="col-md-12">
                          <select id="pickdashboardregion" onchange="regionSelected()" class="selectpicker" data-style="btn btn-info" title="Select Statistics by Region" data-size="11" style="background-color:#000000;">
                              <option value="1">Ashanti Region</option>
                              <option value="2">Brong Ahafo Region</option>
                              <option value="3">Central Region</option>
                              <option value="4">Eastern Region</option>
                              <option value="5">Greater Accra Region</option>
                              <option value="6">Northern Region</option>
                              <option value="7">Upper East Region</option>
                              <option value="8">Upper West Region</option>
                              <option value="9">Volta Region</option>
                              <option value="10">Western Region</option>
                          </select>
                        </div>
                    </div> -->

                    <br/>


                    <div class="row">
                        <div id="searchregionarea" class="col-md-12" style="display:none;">
                            <select id="searchregion" class="selectpicker" data-style="btn" title="All Regions" data-size="11" style="background-color:#000000;"
                                onchange="regionloadDashData(this.options[this.selectedIndex].value)">
                                <option value="0">All Regions</option>
                                <option value="1">Ashanti</option>
                                <option value="2">Brong Ahafo</option>
                                <option value="3">Central</option>
                                <option value="4">Eastern</option>
                                <option value="5">Greater Accra</option>
                                <option value="6">Northern</option>
                                <option value="7">Upper East</option>
                                <option value="8">Upper West</option>
                                <option value="9">Volta</option>
                                <option value="10">Western</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <div class="card card-stats">
                                <div class="card-header" data-background-color="orange">
                                    <i class="material-icons">date_range</i>
                                </div>
                                <div class="card-content">
                                    <p class="category">Total Events</p>
                                    <h3 id="totalEventsHoted" class="card-title"></h3>
                                </div>
                                <div class="card-footer">
                                    <div class="stats">
                                        <i class="material-icons">event</i>
                                        From 8 regions
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card card-stats">
                                <div class="card-header" data-background-color="rose">
                                    <i class="material-icons">equalizer</i>
                                </div>
                                <div class="card-content">
                                    <p class="category">Total Attendees</p>
                                    <h3 id="totalAttendees" class="card-title"></h3>
                                </div>
                                <div class="card-footer">
                                    <div class="stats">
                                        <i class="material-icons">local_offer</i> Estimated attendants to events
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card card-stats">
                                <div class="card-header" data-background-color="green">
                                    <i class="material-icons">store</i>
                                </div>
                                <div class="card-content">
                                    <p class="category">Common Category</p>
                                    <h3 id="commonAudience" class="card-title"></h3>
                                </div>
                                <div class="card-footer">
                                    <div class="stats">
                                        <i class="material-icons">location_on</i> From 15 other possible categories
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="" >
                            <div class="card" style="margin-top: 5%;">
                                <div class="card-header">
                                    <h4 class="card-title">Statistics  -
                                        <small class="category">Visualize outreach user data</small>
                                    </h4>
                                </div>
                                <div class="card-content">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <ul class="nav nav-pills nav-pills-icons nav-pills-rose nav-stacked" role="tablist">
                                                <!--
                                    color-classes: "nav-pills-primary", "nav-pills-info", "nav-pills-success", "nav-pills-warning","nav-pills-danger"
                                -->
                                                <li class="active">
                                                    <a href="#eventstats" role="tab" data-toggle="tab">
                                                        <i class="material-icons">schedule</i> Event Data
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="#userstats" role="tab" data-toggle="tab">
                                                        <i class="material-icons">face</i> Outreach User Data
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="#audiencestats" role="tab" data-toggle="tab">
                                                        <i class="material-icons">record_voice_over</i> Audience Categories Reached Out To
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="tab-content">
                                                <div class="tab-pane active" id="eventstats">
                                                    <div id="eventcontainer" style="max-width:100%; height:300px;"></div>
                                                </div>
                                                <div class="tab-pane" id="userstats">
                                                    <div id="eventusercontainer" style="max-width:100%; height:300px;" overflow="hidden"></div>
                                                </div>
                                                <div class="tab-pane" id="audiencestats">
                                                    <div id="eventaudiencecontainer" style="max-width:100%; height:300px;" overflow="hidden"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>




                </div>
            </div>
            <footer class="footer">
                <div class="container-fluid">

                    <p class="copyright pull-right" style="color: white;">
                            &copy;
                            <script>
                                document.write(new Date().getFullYear())
                            </script>
                            <a href="#" style="color: black"> National Communications Authority </a>
                    </p>
                </div>
            </footer>
        </div>
    </div>
<script type="text/javascript" charset="utf8" src="assets/js/jquery-1.8.2.min.js"></script>
<script src="index.js"></script>
</body>
<!--   Core JS Files   -->
<script src="assets/js/jquery-3.2.1.min.js" type="text/javascript"></script>
<script src='jquery/jquery-1.10.2.js'></script>
<script src='jquery/jquery-ui.custom.min.js'></script>
<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
<script src="assets/js/material.min.js" type="text/javascript"></script>
<script src="assets/js/perfect-scrollbar.jquery.min.js" type="text/javascript"></script>
<!-- Include a polyfill for ES6 Promises (optional) for IE11, UC Browser and Android browser support SweetAlert -->
<script src="assets/js/core.js"></script>
<!-- Library for adding dinamically elements -->
<script src="assets/js/arrive.min.js" type="text/javascript"></script>
<!-- Forms Validations Plugin -->
<script src="assets/js/jquery.validate.min.js"></script>
<!--  Plugin for Date Time Picker and Full Calendar Plugin-->
<script src="assets/js/moment.min.js"></script>

<!--  Plugin for the Wizard, full documentation here: https://github.com/VinceG/twitter-bootstrap-wizard -->
<script src="assets/js/jquery.bootstrap-wizard.js"></script>
<!--  Notifications Plugin, full documentation here: http://bootstrap-notify.remabledesigns.com/    -->
<script src="assets/js/bootstrap-notify.js"></script>
<!--  Plugin for the DateTimePicker, full documentation here: https://eonasdan.github.io/bootstrap-datetimepicker/ -->
<script src="assets/js/bootstrap-datetimepicker.js"></script>
<!-- Vector Map plugin, full documentation here: http://jvectormap.com/documentation/ -->
<script src="assets/js/jquery-jvectormap.js"></script>
<!-- Sliders Plugin, full documentation here: https://refreshless.com/nouislider/ -->
<script src="assets/js/nouislider.min.js"></script>

<!--  Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select -->
<script src="assets/js/jquery.select-bootstrap.js"></script>
<!--  DataTables.net Plugin, full documentation here: https://datatables.net/    -->
<script src="assets/js/jquery.datatables.js"></script>
<!-- Sweet Alert 2 plugin, full documentation here: https://limonte.github.io/sweetalert2/ -->
<script src="assets/js/sweetalert2.js"></script>
<!-- Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
<script src="assets/js/jasny-bootstrap.min.js"></script>
<!--  Full Calendar Plugin, full documentation here: https://github.com/fullcalendar/fullcalendar    -->
<script src="assets/js/fullcalendar.min.js"></script>
<!-- Plugin for Tags, full documentation here: https://github.com/bootstrap-tagsinput/bootstrap-tagsinputs  -->
<script src="assets/js/jquery.tagsinput.js"></script>
<!-- Material Dashboard javascript methods -->
<script src="assets/js/material-dashboard.js?v=1.2.1"></script>
<!-- Material Dashboard DEMO methods, don't include it in your project! -->
<!-- <script src="assets/js/demo.js"></script> -->
<!-- <script src="highcharts/highcharts.js"></script> -->
<script src="highcharts/highstock.js"></script>
<script src="highcharts/highcharts-3d.js"></script>
<script src="highcharts/exporting.js"></script>

<script type="text/javascript">
    $(document).ready(function() {

        $.getJSON('databasehandler.php?cmd=15', function (data) {

            Highcharts.chart('eventcontainer', {
                chart: {
                    zoomType: 'x'
                },
                title: {
                    text: 'Events Per Day'
                },
                subtitle: {
                    text: document.ontouchstart === undefined ?
                        'Click and drag in the plot area to zoom in' : 'Pinch the chart to zoom in'
                },
                xAxis: {
                    type: 'datetime',
                    visible: false
                },
                yAxis: {
                    title: {
                        text: 'Events'
                    }
                },
                legend: {
                    enabled: false
                },
                plotOptions: {
                    area: {
                        fillColor: {
                            linearGradient: {
                                x1: 0,
                                y1: 0,
                                x2: 0,
                                y2: 1
                            },
                            stops: [
                                [0, Highcharts.getOptions().colors[0]],
                                [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
                            ]
                        },
                        marker: {
                            radius: 2
                        },
                        lineWidth: 1,
                        states: {
                            hover: {
                                lineWidth: 1
                            }
                        },
                        threshold: null
                    }
                },

                series: [{
                    type: 'area',
                    name: 'Number of Events',
                    data: data
                }]
            });
        });

        $.getJSON('databasehandler.php?cmd=17', function (data) {

            Highcharts.chart('eventusercontainer', {
                chart: {
                    type: 'column'
                },
                title: {
                    text: 'Outreach Categories Per Region'
                },
                xAxis: {
                    categories: data.categories
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: 'Total Audience Attended'
                    }
                },
                tooltip: {
                    pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',
                    shared: true
                },
                plotOptions: {
                    column: {
                        stacking: 'percent'
                    }
                },
                series: data.series
                // [{
                //     name: 'John',
                //     data: [5, 3, 4, 7, 2]
                // }, {
                //     name: 'Jane',
                //     data: [2, 2, 3, 2, 1]
                // }, {
                //     name: 'Joe',
                //     data: [3, 4, 4, 2, 5]
                // }]
            });
        });

        $.getJSON('databasehandler.php?cmd=16', function (data) {
            //var piedata = JSON.parse(data);
            console.log(data);
            Highcharts.chart('eventaudiencecontainer', {
                chart: {
                    type: 'pie',
                    options3d: {
                        enabled: true,
                        alpha: 45
                    }
                },
                title: {
                    text: 'Audience Categories'
                },
                subtitle: {
                    text: 'Sum of Categories'
                },
                plotOptions: {
                    pie: {
                        innerSize: 100,
                        depth: 45
                    }
                },
                series: [{
                    name: 'Number of events tailored to',
                    data: data
                }]
            });
        });

    });
</script>

</html>
